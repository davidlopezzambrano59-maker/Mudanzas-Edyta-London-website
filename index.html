<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Family-run, fully insured removals based in South West London. House, flat & office moves + man and van across London. Instant quotes.">
    <meta property="og:image" content="https://removalsedytalondon.co.uk/images/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <link rel="canonical" href="https://removalsedytalondon.co.uk/">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Removals London | Top-Rated House & Office Movers">
    <meta property="og:description" content="Top-rated, fully insured removals in London. House, flat & office moves plus man and van services ‚Äî fast availability and transparent pricing.">
    <meta property="og:url" content="https://removalsedytalondon.co.uk/">

    <!-- Favicon & App Icons -->
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">

    <!-- Apple iPhone/iPad icon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <!-- Android / Chrome -->
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">

    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="pro-theme.css">
    
    <title>Removals London | Top-Rated House & Office Movers</title>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MovingCompany",
      "name": "Mudanzas Edyta London Limited",
      "@id": "https://removalsedytalondon.co.uk/#business",
      "image": "https://removalsedytalondon.co.uk/images/og-image.png",
      "logo": "https://removalsedytalondon.co.uk/logo-full.png",
      "url": "https://removalsedytalondon.co.uk",
      "telephone": "+447462170197",
      "alternateName": "Mudanzas Edyta London",
      "description": "Professional removals company in London offering house and office moves, man & van, packing, end of tenancy cleaning, electrical installations and property renovations. Over 10 years experience, fully insured, DBS checked.",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "434A Garratt Lane",
        "addressLocality": "London",
        "postalCode": "SW18 4HN",
        "addressCountry": "GB"
      },
      "areaServed": {
        "@type": "City",
        "name": "London"
      },
      "openingHoursSpecification": [{
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": [
          "Monday","Tuesday","Wednesday","Thursday",
          "Friday","Saturday","Sunday"
        ],
        "opens": "08:00",
        "closes": "20:00"
      }],
      "contactPoint": [{
        "@type": "ContactPoint",
        "telephone": ["+447462170197", "+447456507570"],
        "contactType": "customer service",
        "areaServed": "London",
        "availableLanguage": ["English", "Spanish"]
      }],
      "sameAs": [
        "https://www.facebook.com/removalsmudanzasedytalondon/",
        "https://www.instagram.com/mudanzasedyta",
        "https://www.bark.com/en/gb/company/mudanzas-edyta-london-limited/Y2G1j/"
      ],
      "serviceType": [
        "House removals",
        "Flat removals",
        "Office removals",
        "Man and Van",
        "Packing services",
        "End of tenancy cleaning",
        "Furniture assembly",
        "Electrical installations",
        "Bathroom renovations",
        "Property refurbishments"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "5.0",
        "reviewCount": "98",
        "bestRating": "5",
        "worstRating": "1"
      },
      "review": [
        {
          "@type": "Review",
          "author": {
            "@type": "Person",
            "name": "Hexuan Yu"
          },
          "reviewRating": {
            "@type": "Rating",
            "ratingValue": "5",
            "bestRating": "5"
          },
          "reviewBody": "David and Edyta are the best. Helped so many times with the moves. Great service, very punctual and super nice clean vehicles. Will definitely stick with them for the future moves.",
          "datePublished": "2024-09-15"
        },
        {
          "@type": "Review", 
          "author": {
            "@type": "Person",
            "name": "Jorge Ivan Restrepo"
          },
          "reviewRating": {
            "@type": "Rating",
            "ratingValue": "5",
            "bestRating": "5"
          },
          "reviewBody": "very professional, on time, very good treatment, very careful with my things, economical and very punctual.",
          "datePublished": "2024-06-20"
        },
        {
          "@type": "Review",
          "author": {
            "@type": "Person", 
            "name": "Daniela Talamo"
          },
          "reviewRating": {
            "@type": "Rating",
            "ratingValue": "5",
            "bestRating": "5"
          },
          "reviewBody": "Everything went smooth. No damage, carefully handled! In a blink of an eye the moving was done. Very happy with everything.",
          "datePublished": "2024-01-20"
        },
        {
          "@type": "Review",
          "author": {
            "@type": "Person",
            "name": "trekkernyc"
          },
          "reviewRating": {
            "@type": "Rating",
            "ratingValue": "5",
            "bestRating": "5"
          },
          "reviewBody": "By far, the best removals company to work with and hire. Edyta and her team far exceeded our expectations in every category. Their professionalism and friendly service made our move much more relaxed. Highly recommended.",
          "datePublished": "2023-08-15"
         },
         {
           "@type": "Review",
           "author": {
             "@type": "Person",
             "name": "Adriana Turpin"
           },
           "reviewRating": {
             "@type": "Rating",
             "ratingValue": "5",
             "bestRating": "5"
           },
           "reviewBody": "Everything went really well from my first booking through to the trip itself. Edyta could not have been more helpful or nicer. Very professional and friendly service. Looking forward to our next trip together.",
           "datePublished": "2025-08-10"
         },
         {
           "@type": "Review",
           "author": {
             "@type": "Person",
             "name": "R Baker"
           },
           "reviewRating": {
             "@type": "Rating",
             "ratingValue": "5",
             "bestRating": "5"
           },
           "reviewBody": "One of the best removal experiences I've ever had. Efficient, quick communication, helpful and friendly. They even allowed me to travel with my puppy. Highly recommend and will use again.",
           "datePublished": "2023-05-10"
         }
      ]
    } 
    </script>
    
    <style>
        /* Minimal overrides for existing functionality - all main styling in pro-theme.css */
        .calc-inputs .input-group:nth-child(1),
        .calc-inputs .input-group:nth-child(2) {
            grid-column: 1 / -1;
        }
    </style>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3B7BE8CRKY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-3B7BE8CRKY');
    </script>
</head>
<body>
    <!-- WordPress-style Header -->
    <!-- Top Contact Bar -->
    <div style="background: #F97316; color: white; padding: 8px 0; font-size: 14px;">
        <div class="container" style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
            <div style="display: flex; gap: 2rem; align-items: center;">
                <a href="mailto:info@mudanzasedyta-london.com" style="color: white; text-decoration: none;">
                    üìß info@mudanzasedyta-london.com
                </a>
                <a href="tel:07462170197"
                   style="color: white; text-decoration: none;"
                   onclick="gtag('event', 'call_click', {
                     'event_category': 'lead',
                     'event_label': 'phone_07462170197'
                   });">
                   üìû 07462 170197
                </a>
                &nbsp;|&nbsp;
                <a href="tel:07456507570"
                   style="color: white; text-decoration: none;"
                   onclick="gtag('event', 'call_click', {
                     'event_category': 'lead',
                     'event_label': 'phone_07456507570'
                   });">
                   07456 507570
                </a>

            </div>
                <div style="display: flex; gap: 1rem; align-items: center;">
                <!-- Google Reviews Badge -->
                <a href="https://maps.app.goo.gl/XrSnTzn6Ybgr7FWe9" target="_blank" style="display: flex; align-items: center; gap: 8px; background: white; color: #333; text-decoration: none; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 500; transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                    <span style="color: #fbbc04;">‚≠ê</span>
                    <span>5.0 ‚Ä¢ 98+ Reviews</span>
                </a>
                <a href="https://www.facebook.com/share/16FuwYqeAx/?mibextid=wwXIfr" style="color: white; text-decoration: none;">üìò</a>
                <a href="https://www.linkedin.com/in/mudanzasedytalondon/" style="color: white; text-decoration: none;">üíº</a>
                <a href="https://www.instagram.com/mudanzasedyta?igsh=NGFrOGFmbXhmN2Z3&utm_source=qr" style="color: white; text-decoration: none;">üì∏</a>
                <a href="https://www.bark.com/en/gb/company/mudanzas-edyta-london-limited/Y2G1j/" style="colour: white; text-decoration: none;">üîµ</a>

            </div>
        </div>
    </div>

    <!-- Main Header -->
    <header style="background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 1rem 0; position: sticky; top: 0; z-index: 1000;">
        <div class="container">
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1.5rem;">
                <!-- Logo -->
                <a href="index.html" style="display: flex; align-items: center; gap: 0.75rem; text-decoration: none; color: #0F172A;">
                    <img src="logo-full.png" alt="Mudanzas Edyta London - Lift on the way" style="height: 50px; width: 50px; border-radius: 50%;">
                    <div>
                        <div style="font-weight: 700; font-size: 1.2rem; line-height: 1.2;">MUDANZAS EDYTA</div>
                        <div style="font-size: 0.9rem; color: #F97316; font-weight: 600;">LONDON</div>
                        <div style="font-size: 0.7rem; color: #64748B; font-style: italic;">LIFT ON THE WAY</div>
                    </div>
                </a>

                <!-- Navigation -->
                <nav style="display: flex; gap: 2rem; align-items: center;">
                    <a href="index.html" style="color: #64748B; text-decoration: none; font-weight: 500; padding: 0.5rem 0;">Home</a>
                    <a href="services.html" style="color: #64748B; text-decoration: none; font-weight: 500; padding: 0.5rem 0;">Services</a>
                    <div class="nav-dropdown">
                        <span class="nav-dropdown-toggle" style="color: #64748B;">Areas We Cover ‚ñæ</span>
                        <div class="nav-dropdown-menu">
                            <a href="removals-earlsfield.html">Removals Earlsfield</a>
                        </div>
                    </div>
                    <a href="reviews.html" style="color: #64748B; text-decoration: none; font-weight: 500; padding: 0.5rem 0;">Reviews</a>
                    <a href="about.html" style="color: #64748B; text-decoration: none; font-weight: 500; padding: 0.5rem 0;">About</a>
                    <a href="contact.html" style="color: #64748B; text-decoration: none; font-weight: 500; padding: 0.5rem 0;">Contact</a>
                </nav>

                <!-- Search and CTA -->
                <div style="display: flex; gap: 1rem; align-items: center;">
                    <input type="text" placeholder="SEARCH HERE" style="padding: 8px 12px; border: 1px solid #E2E8F0; border-radius: 4px; font-size: 14px; width: 150px;">
                    <a href="#calculator" style="background: #F97316; color: white; padding: 10px 20px; border-radius: 4px; text-decoration: none; font-weight: 600; font-size: 14px; white-space: nowrap;">
                        FREE QUOTE ‚Üí
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- WordPress-style Hero Section with Team Photo -->
    <section style="background-image: url('team-photo.jpg'); background-size: cover; background-position: center; min-height: 70vh; display: flex; align-items: flex-end; position: relative; color: white; padding-bottom: 4rem;">
        <img src="team-photo.jpg" alt="Edyta, the owner, with 2 happy customers after completing their move" style="display:none;">
        <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0.2) 100%);"></div>
        <div class="container" style="position: relative; z-index: 2;">
            <div style="text-align: center; max-width: 800px; margin: 0 auto;">
                <!-- Hero image only: headline moved below for SEO and to avoid covering the photo -->

                <p style="font-size: 1.5rem; margin-top: 0; margin-bottom: 1.5rem; opacity: 0.95; text-shadow: 1px 1px 3px rgba(0,0,0,0.5);">
                    Need help lifting? We've got you
                </p>
                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <a href="services.html" style="background: #F97316; color: white; padding: 1rem 2rem; border-radius: 6px; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.2s ease; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
                        Explore Services
                    </a>
                    <a href="about.html" style="background: transparent; color: white; padding: 1rem 2rem; border-radius: 6px; text-decoration: none; font-weight: 600; font-size: 1.1rem; border: 2px solid rgba(255,255,255,0.8); transition: all 0.2s ease;">
                        Learn More
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- HeroIntroSpacer Section -->
    <section class="hero-intro-spacer" style="padding: 4rem 0; background: #f8fafc;">
        <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 1rem;">
            <div style="text-align: center; max-width: 800px; margin: 0 auto;">
                <!-- TODO: paste SEO headline -->
                <h1 style="font-size: 2.5rem; font-weight: 700; margin-bottom: 1.5rem; color: #0F172A; line-height: 1.2;">
                    Professional Removals in London ‚Äì House, Flat & Office Moves
                </h1>
                
                <!-- TODO: paste local removals copy -->
                <p style="font-size: 1.125rem; color: #64748B; margin-bottom: 2rem; line-height: 1.6;">
                    Family-run, fully insured movers based in South West London, serving customers across Greater London with fast availability and transparent pricing. We provide <a href="removals-earlsfield.html" style="color: #F97316; font-weight: 600; text-decoration: none;">removals in Earlsfield</a> and other SW London areas, with the same care and clarity we bring to every move.
                </p>
                
                <ul style="list-style: none; padding: 0; margin: 0 0 2.5rem 0; text-align: left; max-width: 600px; margin-left: auto; margin-right: auto;">
                    <li style="padding: 0.75rem 0; color: #64748B; position: relative; padding-left: 2rem;">
                        <span style="position: absolute; left: 0; color: #F97316; font-weight: bold;">‚úì</span>
                        ‚≠ê 5.0-star rated by 98+ customers across London
                    </li>
                    <li style="padding: 0.75rem 0; color: #64748B; position: relative; padding-left: 2rem;">
                        <span style="position: absolute; left: 0; color: #F97316; font-weight: bold;">‚úì</span>
                        üõ°Ô∏è Fully insured removals & goods-in-transit cover
                    </li>
                    <li style="padding: 0.75rem 0; color: #64748B; position: relative; padding-left: 2rem;">
                        <span style="position: absolute; left: 0; color: #F97316; font-weight: bold;">‚úì</span>
                        üè† House, flat & office moves + man and van
                    </li>
                    <li style="padding: 0.75rem 0; color: #64748B; position: relative; padding-left: 2rem;">
                        <span style="position: absolute; left: 0; color: #F97316; font-weight: bold;">‚úì</span>
                        ‚ö° Same-day / last-minute availability when possible
                    </li>
                    <li style="padding: 0.75rem 0; color: #64748B; position: relative; padding-left: 2rem;">
                        <span style="position: absolute; left: 0; color: #F97316; font-weight: bold;">‚úì</span>
                        üí∑ Clear pricing ‚Äî 2-hour minimum, then pay only for total time worked
                    </li>
                </ul>
                
                <a href="#instant-quote" style="display: inline-block; background: #F97316; color: white; padding: 1rem 2rem; border-radius: 6px; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.2s ease; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
                    Get an instant quote
                </a>
            </div>
        </div>
    </section>

    <p style="text-align:center; max-width: 800px; margin: 0 auto 1.5rem; font-size: 1.05rem; color:#475569;">
       Enter your pickup and delivery details below to see your estimated price instantly, then book via WhatsApp or complete the booking form.
    </p>

    <section id="calculator" class="calculator">
        <div id="instant-quote" class="container">
            <div class="calc-container">
                <div class="calc-title">
                    <h2>üßÆ Instant Quote for London Removals</h2>
                    <p>Get a fast, transparent quote for house removals, flat moves, office relocations or man and van services across London.
                       2-hour minimum applies. No hidden fees.
                    </p>
                </div>
                
                <div class="calc-grid">
                    <div class="calc-inputs">
                        <div class="input-group">
                            <label>üìç Pickup Address</label>
                            <input type="text" id="pickupAddress" placeholder="Enter pickup postcode or address">
                            <small style="color: #666; margin-top: 5px; display: block;">UK addresses only</small>
                        </div>
                        
                        <div class="input-group">
                            <label>üèÅ Destination Address</label>
                            <input type="text" id="destinationAddress" placeholder="Enter destination postcode or address">
                            <small style="color: #666; margin-top: 5px; display: block;">UK addresses only</small>
                        </div>
                        
                        <div class="input-group" style="grid-column: 1 / -1;">
                            <label>üõë Extra Stops (Optional)</label>
                            <div id="extraStopsContainer">
                                <!-- Extra stops will be added here -->
                            </div>
                            <button type="button" id="addStopBtn" onclick="addExtraStop()" style="margin-top: 10px; padding: 8px 16px; background: #FF8A00; color: white; border: none; border-radius: 5px; cursor: pointer;">+ Add Stop</button>
                            <small style="color: #666; margin-top: 5px; display: block;">Maximum 5 extra stops</small>
                        </div>
                        
                        <div class="input-group" style="grid-column: 1 / -1;">
                            <div id="routeMap" style="height: 300px; width: 100%; border-radius: 10px; margin: 10px 0; display: none;"></div>
                            <div id="routeInfo" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0; display: none;">
                                <strong>üìç Route Details:</strong>
                                <div id="routeDetails"></div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>üöê Van Size</label>
                            <select id="vanSize" onchange="calculateQuote()">
                                <option value="50" selected>Medium Van (¬£50/hour)</option>
                                <option value="55">Luton Van - 17.3m¬≥ (¬£55/hour)</option>
                            </select>
                        </div>
                        
                        <div class="input-group">
                            <label>üë∑ Number of Loaders</label>
                            <select id="loaders" onchange="calculateQuote()">
                                <option value="0">No additional loaders</option>
                                <option value="1" selected>1 loader (+¬£25/hour)</option>
                                <option value="2">2 loaders (+¬£50/hour)</option>
                                <option value="3">3 loaders (+¬£75/hour)</option>
                            </select>
                        </div>
                        
                        <div class="input-group">
                            <label>‚è∞ Estimated Hours</label>
                            <input type="number" id="hours" value="2" min="1" max="12" onchange="calculateQuote()">
                            <small style="color: #666; margin-top: 5px; display: block;">2-hour minimum applies</small>
                        </div>
                        
                        <div class="input-group">
                            <label>üìç Distance (Miles)</label>
                            <input type="number" id="miles" value="5" min="0" max="100" step="0.1" onchange="calculateQuote()" readonly>
                            <small style="color: #666; margin-top: 5px; display: block;">Auto-calculated from addresses</small>
                        </div>
                        
                        <div class="input-group">
                            <label>üïê Move Time</label>
                            <select id="moveTime" onchange="calculateQuote()">
                                <option value="day">Daytime (8am-8pm)</option>
                                <option value="evening">Evening (after 8pm) - +20%</option>
                            </select>
                        </div>
                        
                        
                        <div class="input-group">
                            <label>üì¶ Packing Service</label>
                            <select id="packingService" onchange="calculateQuote()">
                                <option value="0">No packing service</option>
                                <option value="1">1 hour packing (+¬£25/worker)</option>
                                <option value="2">2 hours packing (+¬£50/worker)</option>
                                <option value="3">3 hours packing (+¬£75/worker)</option>
                                <option value="4">4+ hours packing (+¬£100/worker)</option>
                            </select>
                        </div>
                        
                        <div class="input-group">
                            <label>üîß Assembly Service</label>
                            <select id="assemblyService" onchange="calculateQuote()">
                                <option value="0">No assembly service</option>
                                <option value="1">1 hour assembly (+¬£25/worker)</option>
                                <option value="2">2 hours assembly (+¬£50/worker)</option>
                                <option value="3">3 hours assembly (+¬£75/worker)</option>
                                <option value="4">4+ hours assembly (+¬£100/worker)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="calc-result">
                        <h3>üí∞ Quote Breakdown</h3>
                        <div class="breakdown" id="breakdown">
                            <!-- Breakdown will be inserted here by JavaScript -->
                        </div>
                        <div class="total" id="total">¬£120</div>
                        <p style="color: #475569; font-size: 0.95rem; line-height: 1.6; margin-top: 1rem; background: #FFF7ED; border-left: 4px solid #F97316; padding: 0.75rem 1rem; border-radius: 6px;">
                         <strong>Note:</strong> All moves include a <strong>2-hour minimum booking</strong>, even if the job takes less time. 
                         After the first two hours, you‚Äôre only <strong>charged for the total time</strong> our team works on your move ‚Äî 
                         from when <strong>loading begins at the pickup address</strong> until <strong>unloading is complete at the destination</strong>. 
                         We believe in <strong>transparent pricing</strong> ‚Äî no hidden fees or surprise costs.
                         </p>


                        <button class="whatsapp-btn" onclick="bookViaWhatsApp()">
                            üì± Book via WhatsApp
                        </button>
                        <button class="booking-btn" onclick="showBookingForm()" style="background: #333; margin-top: 10px;">
                            üìÖ Complete Booking Form
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Booking Form Section -->
    <section id="bookingSection" class="booking-section" style="display: none;">
        <div class="container">
            <div class="booking-container">
                <div class="booking-header">
                    <h2>üìÖ Book Your Move in Minutes</h2>
                    <p>Fill in your details to confirm your move</p>
                </div>
                
                <form id="bookingForm" class="booking-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label>üë§ Full Name *</label>
                            <input type="text" id="customerName" required>
                        </div>
                        <div class="form-group">
                            <label>üìß Email Address *</label>
                            <input type="email" id="customerEmail" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>üìû Phone Number *</label>
                            <input type="tel" id="customerPhone" required>
                        </div>
                        <div class="form-group">
                            <label>üìÖ Preferred Move Date *</label>
                            <input type="date" id="moveDate" required min="">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>üïê Preferred Time</label>
                            <select id="preferredTime">
                                <option value="morning">Morning (8am-12pm)</option>
                                <option value="afternoon">Afternoon (12pm-5pm)</option>
                                <option value="evening">Evening (5pm-8pm)</option>
                                <option value="flexible">Flexible</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>üè† Property Type</label>
                            <select id="propertyType">
                                <option value="flat">Flat/Apartment</option>
                                <option value="house">House</option>
                                <option value="office">Office</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>üìù Additional Information</label>
                        <textarea id="additionalInfo" rows="4" placeholder="Any special requirements, heavy items, access issues, etc."></textarea>
                    </div>
                    
                    <div class="booking-summary" id="bookingSummary">
                        <!-- Quote summary will be inserted here -->
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="hideBookingForm()">‚Üê Back to Calculator</button>
                        <button type="submit" class="btn-primary">Confirm Booking üìÖ</button>
                    </div>
                </form>
            </div>
        </div>
    </section>
    <h2 style="color: #F97316; font-size: 2rem; margin-bottom: 1rem; text-align: center;">
      How your move works
    </h2>
    <p style="max-width: 900px; margin: 2rem auto 3rem; padding: 0 1rem; font-size: 1.125rem; color: #475569; line-height: 1.8; text-align: center;">
       Once you enter your pickup and delivery addresses, van size, number of assistants and any additional services, your estimated price is calculated instantly based on time and distance. You can then book your move by messaging us on WhatsApp with your quote details, or by completing the booking form with your preferred date, time and property information. We‚Äôll confirm availability and final details with you before your move.
    </p>


    <!-- WordPress-style Services Section -->
    <section style="padding: 5rem 0; background: white;">
        <div class="container">
            <div style="text-align: center; margin-bottom: 3rem;">
                <h2 style="font-size: 2.5rem; font-weight: 700; color: #0F172A; margin-bottom: 1rem;">
                    London Removals Services (Our Core Speciality) <span style="color: #F97316;"></span>
                </h2>

                <p style="color: #475569; font-size: 1rem; line-height: 1.7; max-width: 620px; margin: 0 auto 2rem auto; text-align: center; font-weight: 400;">
                    We specialise in professional removals across London, helping individuals, families and businesses move safely and efficiently. Cleaning and renovation services are available as optional add-ons when required.
                </p>
                <p style="margin: 0 auto; max-width: 620px;">
                  <a href="services.html" style="color: #F97316; font-weight: 600; text-decoration: none;">
                    View our full services
                  </a>
                </p>


            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                <div style="background: white; border: 1px solid #E2E8F0; border-radius: 12px; padding: 2rem; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.2s ease;">
                    <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: #0F172A;">üè† House & Flat Removals in London</h3>
                    <p style="color: #64748B; line-height: 1.6; font-size: 0.95rem;">Reliable house and flat removals across Greater London, with frequent moves in South West London and surrounding areas. Our experienced team carefully packs, loads and transports your belongings ‚Äî fully insured and handled with care.</p>
                </div>
                <div style="background: white; border: 1px solid #E2E8F0; border-radius: 12px; padding: 2rem; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.2s ease;">
                    <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: #0F172A;">üè¢ Office Moves ‚Äî London</h3>
                    <p style="color: #64748B; line-height: 1.6; font-size: 0.95rem;">We handle office relocations across London, moving desks, IT equipment, and documents safely. Fast, organised, and insured. Keeping your business running smoothly with minimal downtime.</p>
                </div>
                <div style="background: white; border: 1px solid #E2E8F0; border-radius: 12px; padding: 2rem; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.2s ease;">
                    <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: #0F172A;">üöö Man and Van Services ‚Äì London</h3>
                    <p style="color: #64748B; line-height: 1.6; font-size: 0.95rem;">Flexible and affordable man and van services for small moves, student relocations and furniture transport. Ideal for short-notice jobs and single-item deliveries across London.</p>
                </div>
                <div style="background: white; border: 1px solid #E2E8F0; border-radius: 12px; padding: 2rem; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.2s ease;">
                    <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: #0F172A;">‚ö° Same-Day & Last Minute Removals</h3>
                    <p style="color: #64748B; line-height: 1.6; font-size: 0.95rem;">Need an urgent move? We offer same-day removals across London whenever availability allows ‚Äî fast response, professional handling and clear pricing.</p>
                </div>
                <div style="background: white; border: 1px solid #E2E8F0; border-radius: 12px; padding: 2rem; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.2s ease;">
                    <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: #0F172A;">üßπ End of Tenancy Cleaning London (Optional Add-On)</h3>
                    <p style="color: #64748B; line-height: 1.6; font-size: 0.95rem;">End-of-tenancy cleaning available as an add-on to your move, helping tenants, landlords and agents prepare properties to a high standard.</p>
                </div>
                <div style="background: white; border: 1px solid #E2E8F0; border-radius: 12px; padding: 2rem; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.2s ease;">
                    <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: #0F172A;">üõ†Ô∏è Renovation & Electrical Work (By Request)</h3>
                    <p style="color: #64748B; line-height: 1.6; font-size: 0.95rem;">Renovation and electrical services coordinated through trusted specialists. Available by request, alongside your removal.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- WordPress-style Stats Section -->
    <section style="padding: 4rem 0; background: #F8FAFC;">
        <div class="container">
            <h2 style="text-align: center; font-size: 2rem; font-weight: 700; color: #0F172A; margin-bottom: 2rem;">
            Experience You Can Trust
            </h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; text-align: center;">
                <div>
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üìÖ</div>
                    <h3 style="font-size: 1.5rem; font-weight: 700; color: #0F172A; margin-bottom: 0.5rem;">10+ Years Removals Experience</h3>
                </div>
                <div>
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üåç</div>
                    <h3 style="font-size: 1.5rem; font-weight: 700; color: #0F172A; margin-bottom: 0.5rem;">Hundreds of Satisfied Customers</h3>
                </div>
                <div>
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üë•</div>
                    <h3 style="font-size: 1.5rem; font-weight: 700; color: #0F172A; margin-bottom: 0.5rem;">Professional Team Members</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- WordPress-style Why Choose Us -->
    <section style="padding: 5rem 0; background: white;">
        <div class="container">
            <div style="text-align: center; margin-bottom: 3rem;">
                <p style="color: #F97316; font-weight: 600; margin-bottom: 1rem;">Why Choose Us</p>
                <h2 style="font-size: 2rem; font-weight: 700; color: #0F172A; margin-bottom: 1rem; max-width: 600px; margin: 0 auto;">
                    Why Customers Choose Mudanzas Edyta London
                </h2>
                <p style="color: #64748B; font-size: 1.1rem; max-width: 600px; margin: 0 auto;">
                    At Mudanzas Edyta London, we do more than move boxes ‚Äî we move lives.
With over 10 years of experience, our family-run team offers reliable, bilingual and fully insured moving services across all of London.
                </p>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                <div style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üí∞</div>
                    <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: #0F172A;">Best Rate Guarantee</h3>
                    <p style="color: #64748B; line-height: 1.6; margin-bottom: 1rem;">We keep our prices fair and transparent ‚Äî no hidden costs, no surprises.
You‚Äôll always know exactly what you‚Äôre paying for, with professional service at the best rates in London.</p>
                    <a href="services.html" style="color: #F97316; text-decoration: none; font-weight: 600;">Read More</a>
                </div>
                
                <div style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">‚ö°</div>
                    <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: #0F172A;">Quick Service</h3>
                    <p style="color: #64748B; line-height: 1.6; margin-bottom: 1rem;">When you book with us, we show up ‚Äî on time, every time.
Our experienced movers handle each job efficiently, so your move is completed quickly and safely.</p>
                    <a href="contact.html" style="color: #F97316; text-decoration: none; font-weight: 600;">Read More</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Google Reviews Testimonials Section -->
    <section class="testimonials-section" style="padding: 80px 0; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); color: white;">
        <div class="container">
            <div class="section-header" style="text-align: center; margin-bottom: 60px;">
                <h2 style="font-size: 2.5rem; font-weight: 700; margin-bottom: 20px; color: #FF8A00;">What Our Customers Say</h2>
                <p style="font-size: 1.2rem; color: #cccccc; max-width: 600px; margin: 0 auto;">
                    Real reviews from customers across London ‚Äî including South West London ‚Äî who trust us for careful handling, punctual arrivals and clear pricing.
                </p>
                <p style="margin-top: 1rem;">
                  <a href="reviews.html" style="color: #FF8A00; font-weight: 600; text-decoration: none;">
                    Read more customer reviews
                  </a>
                </p>

            </div>
            
            <div class="testimonials-container" style="max-width: 800px; margin: 0 auto; position: relative;">
                <div class="testimonial-card active" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 20px; padding: 40px; text-align: center; backdrop-filter: blur(10px); margin-bottom: 20px;">
                    <div style="font-size: 4rem; opacity: 0.3; margin-bottom: 20px;">"</div>
                    <blockquote style="font-size: 1.3rem; line-height: 1.6; margin-bottom: 30px; color: #f0f0f0;">
                        <!-- REPLACE WITH YOUR FIRST GOOGLE REVIEW -->
                        "David and Edyta are the best. Helped so many times with the moves. Great service, very punctual and super nice clean vehicles. Will definitely stick with them for the future moves."
                    </blockquote>
                    <div class="stars" style="display: flex; justify-content: center; gap: 5px; margin-bottom: 20px;">
                        ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
                    </div>
                    <div class="customer-info">
                        <h4 style="color: #FF8A00; font-size: 1.1rem; margin-bottom: 5px;">
                            <!-- REPLACE WITH CUSTOMER NAME -->
                            Hexuan Yu
                        </h4>
                        <p style="color: #cccccc; font-size: 0.9rem;">
                            ‚≠ê Google Reviews ‚Ä¢ London, UK ‚Ä¢ September 2025
                        </p>
                    </div>
                </div>
                
                <div class="testimonial-card" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 20px; padding: 40px; text-align: center; backdrop-filter: blur(10px); margin-bottom: 20px; display: none;">
                    <div style="font-size: 4rem; opacity: 0.3; margin-bottom: 20px;">"</div>
                    <blockquote style="font-size: 1.3rem; line-height: 1.6; margin-bottom: 30px; color: #f0f0f0;">
                        <!-- REPLACE WITH YOUR SECOND GOOGLE REVIEW -->
                        "very professional, on time, very good treatment, very careful with my things, economical and very punctual."
                    </blockquote>
                    <div class="stars" style="display: flex; justify-content: center; gap: 5px; margin-bottom: 20px;">
                        ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
                    </div>
                    <div class="customer-info">
                        <h4 style="color: #FF8A00; font-size: 1.1rem; margin-bottom: 5px;">
                            <!-- REPLACE WITH CUSTOMER NAME -->
                            Jorge Ivan Restrepo
                        </h4>
                        <p style="color: #cccccc; font-size: 0.9rem;">
                            ‚≠ê Google Reviews ‚Ä¢ London, UK ‚Ä¢ June 2024
                        </p>
                    </div>
                </div>
                
                <div class="testimonial-card" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 20px; padding: 40px; text-align: center; backdrop-filter: blur(10px); margin-bottom: 20px; display: none;">
                    <div style="font-size: 4rem; opacity: 0.3; margin-bottom: 20px;">"</div>
                    <blockquote style="font-size: 1.3rem; line-height: 1.6; margin-bottom: 30px; color: #f0f0f0;">
                        <!-- REPLACE WITH YOUR THIRD GOOGLE REVIEW -->
                        "Everything went smooth. No damage, carefully handled! In a blink of an eye the moving was done. Very happy with everything."
                    </blockquote>
                    <div class="stars" style="display: flex; justify-content: center; gap: 5px; margin-bottom: 20px;">
                        ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
                    </div>
                    <div class="customer-info">
                        <h4 style="color: #FF8A00; font-size: 1.1rem; margin-bottom: 5px;">
                            <!-- REPLACE WITH CUSTOMER NAME -->
                            Daniela Talamo
                        </h4>
                        <p style="color: #cccccc; font-size: 0.9rem;">
                            ‚≠ê Google Reviews ‚Ä¢ London, UK ‚Ä¢ January 2024
                        </p>
                    </div>
                </div>
                
                <!-- Navigation Buttons -->
                <button onclick="previousTestimonial()" style="position: absolute; left: -50px; top: 50%; transform: translateY(-50%); background: #FF8A00; border: none; border-radius: 50%; width: 40px; height: 40px; color: white; cursor: pointer; font-size: 1.2rem;">‚Äπ</button>
                <button onclick="nextTestimonial()" style="position: absolute; right: -50px; top: 50%; transform: translateY(-50%); background: #FF8A00; border: none; border-radius: 50%; width: 40px; height: 40px; color: white; cursor: pointer; font-size: 1.2rem;">‚Ä∫</button>
                
                <!-- ADD MORE REVIEW SLOTS HERE -->
                <div class="testimonial-card" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 20px; padding: 40px; text-align: center; backdrop-filter: blur(10px); margin-bottom: 20px; display: none;">
                    <div style="font-size: 4rem; opacity: 0.3; margin-bottom: 20px;">"</div>
                    <blockquote style="font-size: 1.3rem; line-height: 1.6; margin-bottom: 30px; color: #f0f0f0;">
                        <!-- PASTE YOUR FOURTH REAL GOOGLE REVIEW TEXT HERE -->
                        "By far, the best removals company to work with and hire. Edyta and her team far exceeded our expectations in every category. We had other removals company provide quotations that were just ridiculous but Mudanzas Edyta London Limited provided a fair and reasonable quotation. Edyta was very responsive to our enquiry and her team very professional and friendly, which made our move much more relaxed. I would highly recommend Mudanzas Edyta London Limited for their services and would definitely use their services in the future."
                    </blockquote>
                    <div class="stars" style="display: flex; justify-content: center; gap: 5px; margin-bottom: 20px;">
                        ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
                    </div>
                    <div class="customer-info">
                        <h4 style="color: #FF8A00; font-size: 1.1rem; margin-bottom: 5px;">
                            trekkernyc
                        </h4>
                        <p style="color: #cccccc; font-size: 0.9rem;">
                            ‚≠ê Google Reviews ‚Ä¢ London, UK ‚Ä¢ August 2023
                        </p>
                    </div>
                </div>
                
                <div class="testimonial-card" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 20px; padding: 40px; text-align: center; backdrop-filter: blur(10px); margin-bottom: 20px; display: none;">
                    <div style="font-size: 4rem; opacity: 0.3; margin-bottom: 20px;">"</div>
                    <blockquote style="font-size: 1.3rem; line-height: 1.6; margin-bottom: 30px; color: #f0f0f0;">
                        <!-- PASTE YOUR FIFTH REAL GOOGLE REVIEW TEXT HERE -->
                        "Everything went really well from my first booking through to the trip itself. Edyta could not have been more helpful or nicer to us. They were so professional. I was vey impressed and am looking forward to our next trip together."
                    </blockquote>
                    <div class="stars" style="display: flex; justify-content: center; gap: 5px; margin-bottom: 20px;">
                        ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
                    </div>
                    <div class="customer-info">
                        <h4 style="color: #FF8A00; font-size: 1.1rem; margin-bottom: 5px;">
                            Adriana Turpin
                        </h4>
                        <p style="color: #cccccc; font-size: 0.9rem;">
                            ‚≠ê Trustpilot Reviews ‚Ä¢ London, UK ‚Ä¢ August 2025
                        </p>
                    </div>
                </div>
                
                <div class="testimonial-card" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 20px; padding: 40px; text-align: center; backdrop-filter: blur(10px); margin-bottom: 20px; display: none;">
                    <div style="font-size: 4rem; opacity: 0.3; margin-bottom: 20px;">"</div>
                    <blockquote style="font-size: 1.3rem; line-height: 1.6; margin-bottom: 30px; color: #f0f0f0;">
                        <!-- PASTE YOUR SIXTH REAL GOOGLE REVIEW TEXT HERE -->
                        "This was probably one of the best removal company experiences I've ever had. They were very efficient and quick to communicate, fuss-free, helpful and the company owner's son came with a driver to do the job. Which they did very quickly. And I was allowed to ride in the van with my puppy, which was much appreciated! I am in the process of booking with them again for another move things in storage. Highly recommend."
                    </blockquote>
                    <div class="stars" style="display: flex; justify-content: center; gap: 5px; margin-bottom: 20px;">
                        ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
                    </div>
                    <div class="customer-info">
                        <h4 style="color: #FF8A00; font-size: 1.1rem; margin-bottom: 5px;">
                            R Baker                                        
                        </h4>
                        <p style="color: #cccccc; font-size: 0.9rem;">
                            ‚≠ê Google Reviews ‚Ä¢ London, UK ‚Ä¢ May 2023
                        </p>
                    </div>
                </div>

                <!-- Dots Indicator -->
                <div class="testimonial-dots" style="display: flex; justify-content: center; gap: 10px; margin-top: 30px;">
                    <span class="dot active" onclick="currentTestimonial(1)" style="width: 12px; height: 12px; border-radius: 50%; background: #FF8A00; cursor: pointer; display: inline-block;"></span>
                    <span class="dot" onclick="currentTestimonial(2)" style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.3); cursor: pointer; display: inline-block;"></span>
                    <span class="dot" onclick="currentTestimonial(3)" style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.3); cursor: pointer; display: inline-block;"></span>
                    <span class="dot" onclick="currentTestimonial(4)" style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.3); cursor: pointer; display: inline-block;"></span>
                    <span class="dot" onclick="currentTestimonial(5)" style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.3); cursor: pointer; display: inline-block;"></span>
                    <span class="dot" onclick="currentTestimonial(6)" style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.3); cursor: pointer; display: inline-block;"></span>
                </div>
            </div>
            
            <!-- Google Reviews CTA -->
            <div style="text-align: center; margin-top: 40px;">
                <a href="https://maps.app.goo.gl/RFvfdtpED6v7q77E6" target="_blank" style="display: inline-flex; align-items: center; gap: 10px; background: #4285f4; color: white; text-decoration: none; padding: 15px 30px; border-radius: 10px; font-weight: 600; transition: transform 0.2s;">
                    <span style="font-size: 1.2rem;">üìç</span>
                    Read All Reviews on Google
                    <span style="font-size: 0.8rem;">‚Üó</span>
                </a>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="logo-full.png" alt="Mudanzas Edyta London Logo">
                        <div>
                            <h3 style="margin-bottom: 5px;">Mudanzas Edyta London</h3>
                            <p style="margin-bottom: 15px; color: #FF8A00; font-style: italic;">"Lift on the way"</p>
                        </div>
                    </div>
                    <p>
                      Mudanzas Edyta London is a trusted, family-run removals company based in South West London,
                      providing professional London removals, man and van services, and same-day moves, with optional cleaning and renovation coordination.
                      Fully insured, bilingual, and rated 5-stars by our customers.
                    </p>
                    <div style="display:flex; gap: 12px; margin-top: 14px; align-items:center;">
                      <a href="https://www.facebook.com/share/16FuwYqeAx/?mibextid=wwXIfr"
                         target="_blank" rel="noopener noreferrer"
                         aria-label="Facebook"
                         style="text-decoration:none; font-size: 1.3rem;">
                        üìò
                      </a>
                      <a href="https://www.instagram.com/mudanzasedyta?igsh=NGFrOGFmbXhmN2Z3&utm_source=qr"
                         target="_blank" rel="noopener noreferrer"
                         aria-label="Instagram"
                         style="text-decoration:none; font-size: 1.3rem;">
                        üì∏
                      </a>
                      <a href="https://www.linkedin.com/in/mudanzasedytalondon/"
                         target="_blank" rel="noopener noreferrer"
                         aria-label="LinkedIn"
                         style="text-decoration:none; font-size: 1.3rem;">
                        üíº
                      </a>
                    </div>
                  </div>
                  <div class="footer-section">
                    <h3>Contact Info</h3>
                    <a href="tel:+447456507570"
                       onclick="gtag('event', 'call_click', {
                         'event_category': 'lead',
                         'event_label': 'phone_footer_07456507570'
                       });">
                      üìû 07456 507 570
                    </a>

                    <a href="https://wa.me/447456507570"
                       onclick="gtag('event','whatsapp_click', {
                         'event_category':'lead',
                         'event_label':'whatsapp_link'
                       });">
                      üí¨ WhatsApp
                    </a>

                    <a href="https://www.bark.com/en/gb/company/mudanzas-edyta-london-limited/Y2G1j/" target="_blank" rel="noopener noreferrer">üîó Find us on Bark</a>
                    <p>üìç Based in South West London ‚Ä¢ Serving Greater London</p>
                    <p>üïí Mon-Sun: 8:00 AM - 8:00 PM</p>
                </div>
                <div class="footer-section">
                    <h3>Why Choose Us</h3>
                    <p>‚≠ê 10+ Years Experience</p>
                    <p>üõ°Ô∏è Fully Insured</p>
                    <p>‚úÖ DBS Checked</p>
                    <p>üåç Bilingual Service</p>
                    <p>‚ö° Same Day Available</p>
                    <p>
                      <a href="about.html" style="color: #F97316; font-weight: 600; text-decoration: none;">
                        Learn more about our story
                      </a>
                    </p>
                    <p>
                      <a href="contact.html" style="color: #F97316; font-weight: 600; text-decoration: none;">
                        Contact us to book your move
                      </a>
                    </p>
                </div>
                <div class="footer-section">
                    <h3>Service Areas</h3>
                    <p><a href="removals-earlsfield.html" style="color: #F97316; font-weight: 500; text-decoration: none;">Removals Earlsfield</a></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Mudanzas Edyta London Limited. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <!-- Google Maps Script -->
    <!-- Replace YOUR_API_KEY_HERE with your actual restricted API key -->
    <!-- Google Maps Script -->    <!-- Google Maps API with your actual key -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDZi-ygE0rHag90gI-nhvGmnE1GmZj-n-E&libraries=places&region=GB&callback=initMap"></script>

    <script>
        // ==================== TESTIMONIALS CAROUSEL ====================
        let currentTestimonialIndex = 1;
        const totalTestimonials = 6;
        
        function showTestimonial(n) {
            const cards = document.querySelectorAll('.testimonial-card');
            const dots = document.querySelectorAll('.testimonial-dots .dot');
            
            if (n > totalTestimonials) { currentTestimonialIndex = 1; }
            if (n < 1) { currentTestimonialIndex = totalTestimonials; }
            
            // Hide all cards
            cards.forEach(card => card.style.display = 'none');
            dots.forEach(dot => dot.classList.remove('active'));
            
            // Show current card
            if (cards[currentTestimonialIndex - 1]) {
                cards[currentTestimonialIndex - 1].style.display = 'block';
            }
            if (dots[currentTestimonialIndex - 1]) {
                dots[currentTestimonialIndex - 1].classList.add('active');
                dots[currentTestimonialIndex - 1].style.background = '#FF8A00';
            }
        }
        
        function nextTestimonial() {
            showTestimonial(currentTestimonialIndex += 1);
        }
        
        function previousTestimonial() {
            showTestimonial(currentTestimonialIndex -= 1);
        }
        
        function currentTestimonial(n) {
            showTestimonial(currentTestimonialIndex = n);
        }
        
        // Auto-rotate testimonials every 5 seconds
        setInterval(() => {
            nextTestimonial();
        }, 5000);
        
        // Update dot styles when not active
        document.addEventListener('DOMContentLoaded', function() {
            const dots = document.querySelectorAll('.testimonial-dots .dot');
            dots.forEach((dot, index) => {
                if (!dot.classList.contains('active')) {
                    dot.style.background = 'rgba(255,255,255,0.3)';
                }
                dot.addEventListener('mouseenter', function() {
                    if (!this.classList.contains('active')) {
                        this.style.background = 'rgba(255,138,0,0.6)';
                    }
                });
                dot.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('active')) {
                        this.style.background = 'rgba(255,255,255,0.3)';
                    }
                });
            });
        });

        // ==================== GOOGLE MAPS DISTANCE CALCULATOR ====================
        
        // Global variables
        let map, directionsService, directionsRenderer;
        let pickupAutocomplete, destinationAutocomplete;
        let extraStopAutocompletes = [];
        let debounceTimer;
        let extraStopsCount = 0;
        window.currentQuote = null;
        
        // Check if Google Maps is available
        function initMap() {
            console.log('initMap called');
            console.log('Google available?', typeof google !== 'undefined');
            
            if (typeof google !== 'undefined') {
                console.log('Calling initGoogleMaps...');
                initGoogleMaps();
            } else {
                console.log('Google Maps not available, using fallback distance calculation');
                initFallbackSystem();
            }
        }
        
        // Initialize Google Maps (when API is available)
        function initGoogleMaps() {
            try {
                console.log('Starting Google Maps initialization...');
                
                // Check if required elements exist
                const routeMapElement = document.getElementById('routeMap');
                if (!routeMapElement) {
                    throw new Error('routeMap element not found');
                }
                
                // Initialize map (hidden initially)
                console.log('Creating map...');
                map = new google.maps.Map(routeMapElement, {
                    zoom: 10,
                    center: { lat: 51.5074, lng: -0.1278 }, // London center
                    styles: [
                        {
                            featureType: 'poi',
                            elementType: 'labels',
                            stylers: [{ visibility: 'off' }]
                        }
                    ]
                });
                console.log('Map created successfully');
                
                // Initialize directions service and renderer
                console.log('Creating directions services...');
                directionsService = new google.maps.DirectionsService();
                directionsRenderer = new google.maps.DirectionsRenderer({
                    map: map,
                    suppressMarkers: false,
                    polylineOptions: {
                        strokeColor: '#FF8A00',
                        strokeWeight: 4
                    }
                });
                console.log('Directions services created');
                
                // Setup autocomplete for pickup and destination
                console.log('Setting up autocomplete...');
                setupAutocomplete();
                console.log('Autocomplete setup complete');
                
                // Initialize other components
                console.log('Initializing page components...');
                initializePage();
                console.log('Google Maps initialization complete!');
                
            } catch (error) {
                console.error('Error in initGoogleMaps:', error);
                alert('Google Maps failed to load. Error: ' + error.message);
                // Fall back to manual entry
                initFallbackSystem();
            }
        }
        
        // Fallback system without Google Maps
        function initFallbackSystem() {
            // Hide map-related elements
            document.getElementById('routeMap').style.display = 'none';
            
            // Add manual distance input functionality
            const milesInput = document.getElementById('miles');
            milesInput.readOnly = false;
            milesInput.placeholder = 'Enter distance in miles';
            milesInput.style.background = 'white';
            
            // Add distance estimation based on postcodes
            document.getElementById('pickupAddress').addEventListener('input', estimateDistanceFromPostcodes);
            document.getElementById('destinationAddress').addEventListener('input', estimateDistanceFromPostcodes);
            
            // Initialize page
            initializePage();
        }
        
        function setupAutocomplete() {
            const options = {
                componentRestrictions: { country: 'gb' },
                fields: ['place_id', 'geometry', 'name', 'formatted_address']
            };
            
            // Pickup autocomplete
            pickupAutocomplete = new google.maps.places.Autocomplete(
                document.getElementById('pickupAddress'), options
            );
            pickupAutocomplete.addListener('place_changed', () => {
                debouncedRouteCalculation();
            });
            
            // Destination autocomplete  
            destinationAutocomplete = new google.maps.places.Autocomplete(
                document.getElementById('destinationAddress'), options
            );
            destinationAutocomplete.addListener('place_changed', () => {
                debouncedRouteCalculation();
            });
            
            // Add input event listeners for manual typing
            document.getElementById('pickupAddress').addEventListener('input', debouncedRouteCalculation);
            document.getElementById('destinationAddress').addEventListener('input', debouncedRouteCalculation);
        }
        
        function addExtraStop() {
            if (extraStopsCount >= 5) {
                alert('Maximum 5 extra stops allowed');
                return;
            }
            
            extraStopsCount++;
            const container = document.getElementById('extraStopsContainer');
            const stopDiv = document.createElement('div');
            stopDiv.className = 'extra-stop';
            stopDiv.style.cssText = 'display: flex; gap: 10px; margin-bottom: 10px; align-items: center;';
            
            stopDiv.innerHTML = `
                <input type="text" id="extraStop${extraStopsCount}" placeholder="Extra stop ${extraStopsCount} address" 
                       style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 5px;">
                <button type="button" onclick="removeExtraStop(this)" 
                        style="padding: 8px 12px; background: #dc3545; color: white; border: none; border-radius: 5px; cursor: pointer;">√ó</button>
            `;
            
            container.appendChild(stopDiv);
            
            // Setup autocomplete for new stop
            const newInput = document.getElementById(`extraStop${extraStopsCount}`);
            const autocomplete = new google.maps.places.Autocomplete(newInput, {
                componentRestrictions: { country: 'gb' },
                fields: ['place_id', 'geometry', 'name', 'formatted_address']
            });
            
            autocomplete.addListener('place_changed', debouncedRouteCalculation);
            newInput.addEventListener('input', debouncedRouteCalculation);
            extraStopAutocompletes.push(autocomplete);
            
            // Update add button visibility
            document.getElementById('addStopBtn').style.display = extraStopsCount >= 5 ? 'none' : 'inline-block';
        }
        
        function removeExtraStop(button) {
            button.parentElement.remove();
            extraStopsCount--;
            document.getElementById('addStopBtn').style.display = 'inline-block';
            
            // Renumber remaining stops
            const stops = document.querySelectorAll('.extra-stop input');
            stops.forEach((stop, index) => {
                stop.id = `extraStop${index + 1}`;
                stop.placeholder = `Extra stop ${index + 1} address`;
            });
            
            debouncedRouteCalculation();
        }
        
        function debouncedRouteCalculation() {
            console.log('‚è∞ debouncedRouteCalculation triggered');
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(calculateRoute, 300);
        }
        
        async function calculateRoute() {
            console.log('üöÄ calculateRoute function called');
            const pickupInput = document.getElementById('pickupAddress');
            const destinationInput = document.getElementById('destinationAddress');
            console.log('üìç Addresses:', { pickup: pickupInput?.value, destination: destinationInput?.value });
            
            if (!pickupInput.value.trim() || !destinationInput.value.trim()) {
                document.getElementById('routeMap').style.display = 'none';
                document.getElementById('routeInfo').style.display = 'none';
                document.getElementById('miles').value = '0';
                calculateQuote();
                return;
            }
            
            try {
                // Get place IDs for origin and destination
                const originPlaceId = await getPlaceId(pickupInput.value.trim());
                const destinationPlaceId = await getPlaceId(destinationInput.value.trim());
                
                if (!originPlaceId || !destinationPlaceId) {
                    throw new Error('Could not find valid addresses');
                }
                
                // Get waypoints from extra stops
                const waypoints = [];
                const extraStopInputs = document.querySelectorAll('.extra-stop input');
                
                for (let input of extraStopInputs) {
                    if (input.value.trim()) {
                        const placeId = await getPlaceId(input.value.trim());
                        if (placeId) {
                            waypoints.push({
                                location: { placeId: placeId },
                                stopover: true
                            });
                        }
                    }
                }
                
                // Calculate route - optimized to avoid charges
                const request = {
                    origin: { placeId: originPlaceId },
                    destination: { placeId: destinationPlaceId },
                    waypoints: waypoints,
                    travelMode: google.maps.TravelMode.DRIVING,
                    unitSystem: google.maps.UnitSystem.METRIC,
                    avoidHighways: false,
                    avoidTolls: true,  // Avoid toll roads to minimize tunnel usage
                    provideRouteAlternatives: true  // Get multiple route options
                };
                
                directionsService.route(request, (result, status) => {
                    if (status === 'OK') {
                        console.log('üìä Google Maps returned', result.routes.length, 'route options');
                        // Select the best route (lowest additional charges)
                        const bestRoute = selectOptimalRoute(result.routes);
                        const routeNumber = result.routes.indexOf(bestRoute) + 1;
                        console.log(`Selected route ${routeNumber} of ${result.routes.length} options`);
                        
                        // Show optimization message to customer
                        if (result.routes.length > 1) {
                            console.log(`Selected route ${routeNumber} of ${result.routes.length} options`);
                        }
                        
                        // Create new result with only the best route
                        const optimizedResult = {
                            ...result,
                            routes: [bestRoute]
                        };
                        
                        // Display route on map
                        directionsRenderer.setDirections(optimizedResult);
                        document.getElementById('routeMap').style.display = 'block';
                        
                        // Calculate total distance
                        let totalMeters = 0;
                        bestRoute.legs.forEach(leg => {
                            totalMeters += leg.distance.value;
                        });
                        
                        // Convert to miles and round to 1 decimal
                        const miles = Math.round((totalMeters / 1609.344) * 10) / 10;
                        console.log('üöó Route calculated:', {
                            totalMeters: totalMeters,
                            calculatedMiles: miles,
                            inputValue: document.getElementById('miles').value
                        });
                        
                        // Update miles input and display
                        document.getElementById('miles').value = miles;
                        console.log('üìù Input updated to:', document.getElementById('miles').value);
                        
                        // Show route info with all alternatives
                        console.log('üó∫Ô∏è Calling displayRouteInfo with:', { result: 'present', miles, totalRoutes: result.routes.length });
                        displayRouteInfo(result, miles, routeNumber - 1); // Pass original result with all routes
                        
                        // Analyze route for surcharges and recalculate quote
                        const flags = analyzeSurcharges(bestRoute);
                        console.log('üí∞ Calling calculateQuote with:', { route: 'present', flags, miles });
                        // Pass parameters in correct order: route, flags object, calculatedMiles
                        calculateQuote(bestRoute, { inCCZ: flags.inCCZ, usesTunnel: flags.usesTunnel }, miles);
                        
                    } else {
                        console.error('Directions request failed:', status);
                        const routeDetailsDiv = document.getElementById('routeDetails');
                        if (routeDetailsDiv) {
                            routeDetailsDiv.innerHTML = '<strong style="color: #dc3545;">‚ö†Ô∏è Error routing - Please check addresses</strong>';
                        }
                        document.getElementById('routeInfo').style.display = 'block';
                    }
                });
                
            } catch (error) {
                console.error('Route calculation error:', error);
                const routeDetailsDiv = document.getElementById('routeDetails');
                if (routeDetailsDiv) {
                    routeDetailsDiv.innerHTML = '<strong style="color: #dc3545;">‚ö†Ô∏è Error calculating route</strong>';
                }
                document.getElementById('routeInfo').style.display = 'block';
            }
        }
        
        async function getPlaceId(address) {
            return new Promise((resolve) => {
                const geocoder = new google.maps.Geocoder();
                geocoder.geocode({ 
                    address: address,
                    componentRestrictions: { country: 'GB' }
                }, (results, status) => {
                    if (status === 'OK' && results[0]) {
                        resolve(results[0].place_id);
                    } else {
                        resolve(null);
                    }
                });
            });
        }
        
        
        // ==================== QUOTE CALCULATION ====================
        
        function initializePage() {
            // Initialize date picker
            const today = new Date().toISOString().split('T')[0];
            const moveDateInput = document.getElementById('moveDate');
            if (moveDateInput) {
                moveDateInput.min = today;
            }
            
            // Add event listeners
            const inputs = ['vanSize', 'loaders', 'hours', 'miles', 'moveTime', 'packingService', 'assemblyService'];
            inputs.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('change', calculateQuote);
                }
            });
            
            // Initial calculation
            calculateQuote();
            
            // Setup booking form
            const bookingForm = document.getElementById('bookingForm');
            if (bookingForm) {
                bookingForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    submitBooking();
                });
            }
        }
        
        function calculateQuote(route = null, { inCCZ = false, usesTunnel = false } = {}, calculatedMiles = null) {
            // Get all form elements
            const vanSize = parseInt(document.getElementById('vanSize')?.value || 45);
            const loaders = parseInt(document.getElementById('loaders')?.value || 1);
            let hours = parseInt(document.getElementById('hours')?.value || 2);
            let miles = parseFloat(document.getElementById('miles')?.value || 0);
            
            console.log('üßÆ calculateQuote called with:', {
                calculatedMiles: calculatedMiles,
                inputFieldValue: document.getElementById('miles')?.value,
                finalMiles: miles,
                route: route ? 'present' : 'null'
            });
            
            // Add stack trace to see where this is being called from
            console.trace('üìû calculateQuote call stack');
            const moveTime = document.getElementById('moveTime')?.value || 'day';
            const packingService = parseInt(document.getElementById('packingService')?.value || 0);
            const assemblyService = parseInt(document.getElementById('assemblyService')?.value || 0);
            const pickup = document.getElementById('pickupAddress')?.value || '';
            const destination = document.getElementById('destinationAddress')?.value || '';
            
            // Count extra stops
            const extraStops = document.querySelectorAll('.extra-stop input').length;
            
            // Input validation
            hours = Math.max(2, Math.min(12, hours));
            
            // Use calculatedMiles if provided, otherwise use form input
            if (calculatedMiles !== null && calculatedMiles !== undefined) {
                console.log('üéØ Using route-calculated miles:', calculatedMiles);
                miles = calculatedMiles;
                // For route-calculated miles, allow up to 500 miles and ensure it's a valid number
                if (isNaN(miles) || miles < 0) {
                    console.error('‚ö†Ô∏è Invalid calculated miles:', miles);
                    miles = 0;
                } else if (miles > 500) {
                    console.warn('‚ö†Ô∏è Very long distance clamped from', miles, 'to 500 miles');
                    miles = 500;
                }
                console.log('‚úÖ Final route-calculated miles:', miles);
            } else {
                console.log('üìù Using manual input miles:', miles);
                // For manual input, use stricter validation
                miles = Math.max(0, Math.min(200, miles));
                console.log('‚úÖ Final manual input miles (clamped):', miles);
            }
            
            // Pricing constants
            const loaderRate = 25;
            const minHours = 2;
            const mileRate = 1.50; // ¬£1.50 per mile for ALL miles
            const extraStopRate = 10;
            const packingRate = 25;
            const assemblyRate = 25;
            const congestionCharge = 15;
            const tunnelCharge = 6.50;
            const eveningSurcharge = 0.20; // 20%
            
            // Base calculations
            const baseHourly = vanSize + (loaders * loaderRate);
            const billableHours = Math.max(minHours, hours);
            
            // Distance charge (ALL miles charged)
            const distanceCharge = miles * mileRate;
            
            // Extra services
            const extraStopsCharge = extraStops * extraStopRate;
            const packingCharge = packingService * packingRate * (loaders + 1);
            const assemblyCharge = assemblyService * assemblyRate * (loaders + 1);
            
            // Route-based charges (using enhanced detection)
            let routeCharges = 0;
            let routeDetails = [];
            
            if (route) {
                // Use the enhanced analyzeSurcharges function results
                if (inCCZ) {
                    routeCharges += congestionCharge;
                    routeDetails.push('Central London Congestion Charge');
                }
                
                if (usesTunnel) {
                    routeCharges += tunnelCharge;
                    routeDetails.push('Blackwall/Silvertown Tunnel');
                }
            } else {
                // Fallback: use postcode-based estimation when no route data
                if (isCentralLondon(pickup) || isCentralLondon(destination)) {
                    routeCharges += congestionCharge;
                    routeDetails.push('Central London Congestion Charge (estimated)');
                }
                
                if (requiresTunnel(pickup, destination)) {
                    routeCharges += tunnelCharge;
                    routeDetails.push('Blackwall/Silvertown Tunnel (estimated)');
                }
            }
            
            // Calculate subtotal
            let subtotal = (baseHourly * billableHours) + distanceCharge + extraStopsCharge + packingCharge + assemblyCharge + routeCharges;
            
            
            // Evening surcharge (20% of subtotal)
            const eveningCharge = moveTime === 'evening' ? subtotal * eveningSurcharge : 0;
            
            const total = subtotal + eveningCharge;
            
            // Update breakdown display
            updateBreakdown({
                vanSize, loaders, baseHourly, billableHours, miles, distanceCharge,
                extraStops, extraStopsCharge, packingService, packingCharge,
                assemblyService, assemblyCharge, moveTime, eveningCharge,
                routeCharges, routeDetails, total, pickup, destination
            });
            
            // Store for booking
            window.currentQuote = {
                vanSize, loaders, hours, billableHours, miles, distanceCharge,
                extraStops, extraStopsCharge, packingService, packingCharge,
                assemblyService, assemblyCharge, moveTime, eveningCharge,
                routeCharges, routeDetails, total, pickup, destination,
                baseHourly, subtotal
            };
        }
        
        function updateBreakdown(quote) {
            const breakdown = document.getElementById('breakdown');
            const totalEl = document.getElementById('total');
            
            if (!breakdown || !totalEl) return;
            
            const vanNames = {40: 'Small Van', 45: 'Medium Van', 50: 'Luton Van'};
            
            let html = `
                <div><span>Van (${vanNames[quote.vanSize]}):</span><span>¬£${quote.vanSize}/hour</span></div>
                ${quote.loaders > 0 ? `<div><span>Loaders (${quote.loaders} √ó ¬£25):</span><span>¬£${quote.loaders * 25}/hour</span></div>` : ''}
                <div><span>Labour (${quote.billableHours}h):</span><span>¬£${(quote.baseHourly * quote.billableHours).toFixed(2)}</span></div>
                <div><span>Distance (${quote.miles} miles):</span><span>¬£${quote.distanceCharge.toFixed(2)}</span></div>
            `;
            
            if (quote.extraStopsCharge > 0) {
                html += `<div><span>Extra Stops (${quote.extraStops}):</span><span>¬£${quote.extraStopsCharge}</span></div>`;
            }
            
            if (quote.packingCharge > 0) {
                html += `<div><span>Packing Service:</span><span>¬£${quote.packingCharge}</span></div>`;
            }
            
            if (quote.assemblyCharge > 0) {
                html += `<div><span>Assembly Service:</span><span>¬£${quote.assemblyCharge}</span></div>`;
            }
            
            if (quote.routeCharges > 0) {
                quote.routeDetails.forEach(detail => {
                    const charge = detail.includes('Congestion') ? 15 : 6.50;
                    html += `<div><span>${detail}:</span><span>¬£${charge}</span></div>`;
                });
            }
            
            if (quote.eveningCharge > 0) {
                html += `<div><span>Evening Surcharge (20%):</span><span>¬£${quote.eveningCharge.toFixed(2)}</span></div>`;
            }
            
            breakdown.innerHTML = html;
            totalEl.textContent = `¬£${quote.total.toFixed(2)}`;
        }
        
        function isCentralLondon(address) {
            const centralPostcodes = ['WC', 'EC', 'W1', 'SW1', 'SE1', 'E1'];
            return centralPostcodes.some(code => address.toUpperCase().includes(code));
        }
        
        function requiresTunnel(pickup, destination) {
            const northSide = ['N', 'E', 'EN', 'IG'];
            const southSide = ['SE', 'SW', 'CR', 'BR', 'DA', 'TN'];
            
            const pickupNorth = northSide.some(code => pickup.toUpperCase().includes(code));
            const pickupSouth = southSide.some(code => pickup.toUpperCase().includes(code));
            const destNorth = northSide.some(code => destination.toUpperCase().includes(code));
            const destSouth = southSide.some(code => destination.toUpperCase().includes(code));
            
            return (pickupNorth && destSouth) || (pickupSouth && destNorth);
        }

        // ==================== ACTUAL ROUTE ANALYSIS FUNCTIONS ====================
        
        function displayRouteInfo(result, miles, selectedRouteIndex = 0) {
            console.log('üó∫Ô∏è displayRouteInfo called with:', { result: result ? 'present' : 'null', miles, routesCount: result?.routes?.length, selectedIndex: selectedRouteIndex });
            
            const routeInfoDiv = document.getElementById('routeInfo');
            const routeDetailsDiv = document.getElementById('routeDetails');
            
            // Check if HTML elements exist
            if (!routeInfoDiv || !routeDetailsDiv) {
                console.error('‚ùå Route display elements not found:', { routeInfoDiv: !!routeInfoDiv, routeDetailsDiv: !!routeDetailsDiv });
                return;
            }
            
            if (!result || !result.routes || !result.routes[0]) {
                console.log('‚ö†Ô∏è No route data available');
                routeInfoDiv.style.display = 'none';
                return;
            }
            
            const selectedRoute = result.routes[selectedRouteIndex];
            let totalDuration = 0;
            
            // Calculate total duration for selected route
            selectedRoute.legs.forEach(leg => {
                totalDuration += leg.duration.value;
            });
            
            // Convert duration to hours and minutes
            const hours = Math.floor(totalDuration / 3600);
            const minutes = Math.floor((totalDuration % 3600) / 60);
            let durationText = '';
            if (hours > 0) {
                durationText = `${hours}h ${minutes}m`;
            } else {
                durationText = `${minutes} minutes`;
            }
            
            // Build route summary
            const routeSummary = selectedRoute.summary || 'Via main roads';
            
            // Build main route info
            let routeHtml = `
                <div style="background: #f8f9fa; border-radius: 8px; padding: 15px; margin-bottom: 15px;">
                    <h4 style="margin: 0 0 10px 0; color: #2c5aa0;">üéØ Selected Route (Best Value)</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                        <div>
                            <strong>üìè Distance:</strong><br>
                            <span style="font-size: 1.1em; color: #2c5aa0;">${miles} miles</span>
                        </div>
                        <div>
                            <strong>‚è±Ô∏è Duration:</strong><br>
                            <span style="font-size: 1.1em; color: #2c5aa0;">${durationText}</span>
                        </div>
                        <div>
                            <strong>üõ£Ô∏è Route:</strong><br>
                            <span style="font-size: 0.9em;">${routeSummary}</span>
                        </div>
                    </div>
                </div>
            `;
            
            // Show alternative routes if available
            if (result.routes.length > 1) {
                routeHtml += `<div style="margin-top: 15px;">
                    <h5 style="margin: 0 0 10px 0; color: #666;">Alternative Routes:</h5>
                    <div style="display: grid; gap: 10px;">`;
                
                for (let i = 0; i < Math.min(result.routes.length, 4); i++) {
                    if (i === selectedRouteIndex) continue; // Skip the selected route
                    const altRoute = result.routes[i];
                    let altDuration = 0;
                    let altDistance = 0;
                    
                    altRoute.legs.forEach(leg => {
                        altDuration += leg.duration.value;
                        altDistance += leg.distance.value;
                    });
                    
                    const altMiles = Math.round((altDistance / 1609.344) * 10) / 10;
                    const altHours = Math.floor(altDuration / 3600);
                    const altMinutes = Math.floor((altDuration % 3600) / 60);
                    const altDurationText = altHours > 0 ? `${altHours}h ${altMinutes}m` : `${altMinutes} minutes`;
                    const altSummary = altRoute.summary || 'Alternative route';
                    
                    routeHtml += `
                        <div style="background: #fff; border: 1px solid #ddd; border-radius: 6px; padding: 10px; font-size: 0.9em;">
                            <div style="display: grid; grid-template-columns: auto 1fr 1fr 2fr; gap: 10px; align-items: center;">
                                <div style="color: #666; font-weight: bold;">Route ${i + 1}:</div>
                                <div><strong>üìè</strong> ${altMiles} miles</div>
                                <div><strong>‚è±Ô∏è</strong> ${altDurationText}</div>
                                <div><strong>üõ£Ô∏è</strong> ${altSummary}</div>
                            </div>
                        </div>
                    `;
                }
                
                routeHtml += `</div></div>`;
            }
            
            routeDetailsDiv.innerHTML = routeHtml;
            routeInfoDiv.style.display = 'block';
            console.log('‚úÖ displayRouteInfo completed - route info should now be visible');
        }
        
        function analyzeSurcharges(route) {
            // Google sometimes puts "Congestion/Toll" hints in route warnings
            const warnings = (route.warnings || []).join(' ').toLowerCase();
            const inCCZ = /congestion|congestion charge/.test(warnings);

            // Scan step instructions for tunnel names
            const stepText = route.legs.flatMap(l =>
                l.steps.map(s => (s.html_instructions || '').replace(/<[^>]+>/g,'').toLowerCase())
            ).join(' ');
            const usesTunnel = /blackwall tunnel|silvertown tunnel/.test(stepText);

            return { inCCZ, usesTunnel };
        }
        
        function selectOptimalRoute(routes) {
            if (!routes || routes.length === 0) return null;
            if (routes.length === 1) return routes[0];
            
            console.log(`Analyzing ${routes.length} route options to minimize charges...`);
            
            let bestRoute = routes[0];
            let lowestCost = Infinity;
            
            routes.forEach((route, index) => {
                // Calculate additional charges for this route
                let routeCost = 0;
                let charges = [];
                
                // Check congestion charge
                if (routePassesThroughCongestionZone(route)) {
                    routeCost += 15; // ¬£15 congestion charge
                    charges.push('Congestion Zone');
                }
                
                // Check tunnel charges
                if (routeUsesTunnels(route)) {
                    routeCost += 6.50; // ¬£6.50 tunnel charge
                    charges.push('Tunnel');
                }
                
                // Calculate distance cost (¬£1.50 per mile)
                let totalMeters = 0;
                route.legs.forEach(leg => {
                    totalMeters += leg.distance.value;
                });
                const miles = totalMeters / 1609.344;
                const distanceCost = miles * 1.50;
                
                // Total cost for this route
                const totalCost = routeCost + distanceCost;
                
                console.log(`Route ${index + 1}: ${miles.toFixed(1)} miles, ¬£${routeCost.toFixed(2)} extra charges, ¬£${totalCost.toFixed(2)} total`, charges);
                
                // Select route with lowest total cost
                if (totalCost < lowestCost) {
                    lowestCost = totalCost;
                    bestRoute = route;
                }
            });
            
            console.log(`Selected optimal route with total cost: ¬£${lowestCost.toFixed(2)}`);
            return bestRoute;
        }
        
        function routePassesThroughCongestionZone(route) {
            // Central London Congestion Charge Zone boundaries (approximate)
            const congestionZone = {
                north: 51.5290,  // Euston Road
                south: 51.4947,  // Elephant & Castle
                east: -0.0760,   // Tower Bridge
                west: -0.1690    // Hyde Park Corner
            };
            
            // Check if any part of the route passes through the congestion zone
            for (let leg of route.legs) {
                for (let step of leg.steps) {
                    const lat = step.start_location.lat();
                    const lng = step.start_location.lng();
                    
                    if (lat >= congestionZone.south && lat <= congestionZone.north &&
                        lng >= congestionZone.west && lng <= congestionZone.east) {
                        console.log('Route passes through congestion zone');
                        return true;
                    }
                }
            }
            
            console.log('Route does not pass through congestion zone');
            return false;
        }
        
        function routeUsesTunnels(route) {
            // Check route summary and steps for tunnel usage
            const routeSummary = route.summary.toLowerCase();
            const tunnelKeywords = [
                'blackwall tunnel', 'blackwall', 
                'silvertown tunnel', 'silvertown',
                'rotherhithe tunnel', 'rotherhithe'
            ];
            
            // Check route summary
            if (tunnelKeywords.some(keyword => routeSummary.includes(keyword))) {
                console.log('Route uses tunnel (found in summary):', routeSummary);
                return true;
            }
            
            // Check individual steps for tunnel references
            for (let leg of route.legs) {
                for (let step of leg.steps) {
                    const instruction = step.instructions.toLowerCase();
                    if (tunnelKeywords.some(keyword => instruction.includes(keyword))) {
                        console.log('Route uses tunnel (found in instructions):', instruction);
                        return true;
                    }
                }
            }
            
            // Check for specific tunnel coordinates (Blackwall and Silvertown)
            const tunnelLocations = [
                { lat: 51.5089, lng: -0.0089, name: 'Blackwall Tunnel' },     // Blackwall Tunnel
                { lat: 51.5028, lng: 0.0308, name: 'Silvertown Tunnel' }      // Silvertown Tunnel
            ];
            
            for (let leg of route.legs) {
                for (let step of leg.steps) {
                    const stepLat = step.start_location.lat();
                    const stepLng = step.start_location.lng();
                    
                    for (let tunnel of tunnelLocations) {
                        // Check if route passes within 500m of tunnel entrance
                        const distance = calculateDistance(stepLat, stepLng, tunnel.lat, tunnel.lng);
                        if (distance < 0.5) { // Within 500 meters
                            console.log('Route passes near', tunnel.name);
                            return true;
                        }
                    }
                }
            }
            
            console.log('Route does not use tunnels');
            return false;
        }
        
        // Helper function to calculate distance between two points in km
        function calculateDistance(lat1, lng1, lat2, lng2) {
            const R = 6371; // Earth's radius in km
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLng = (lng2 - lng1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                    Math.sin(dLng/2) * Math.sin(dLng/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }
        
        // ==================== BOOKING FUNCTIONS ====================
        
        function showBookingForm() {
            if (!window.currentQuote) {
                alert('Please calculate a quote first!');
                return;
            }
            
            document.getElementById('bookingSection').style.display = 'block';
            document.getElementById('bookingSection').scrollIntoView({ behavior: 'smooth' });
            updateBookingSummary();
        }
        
        function hideBookingForm() {
            document.getElementById('bookingSection').style.display = 'none';
        }
        
        function updateBookingSummary() {
            const summary = document.getElementById('bookingSummary');
            const quote = window.currentQuote;
            
            if (!summary || !quote) return;
            
            const vanNames = {40: 'Small Van', 45: 'Medium Van', 50: 'Luton Van'};
            
            summary.innerHTML = `
                <h3>üìã Booking Summary</h3>
                <p><strong>Route:</strong> ${quote.pickup || 'Not specified'} ‚Üí ${quote.destination || 'Not specified'}</p>
                <p><strong>Service:</strong> ${vanNames[quote.vanSize]} + ${quote.loaders} loader(s)</p>
                <p><strong>Duration:</strong> ${quote.billableHours} hours</p>
                <p><strong>Distance:</strong> ${quote.miles} miles</p>
                <p><strong>Total Cost:</strong> ¬£${quote.total.toFixed(2)}</p>
            `;
        }
        
        function bookViaWhatsApp() {
            const quote = window.currentQuote;
            if (!quote) {
                alert('Please calculate a quote first!');
                return;
            }
            gtag('event', 'whatsapp_click', {
                'event_category': 'lead',
                'event_label': 'whatsapp_booking_button'
            });

            
            const vanNames = {40: 'Small Van', 45: 'Medium Van', 50: 'Luton Van'};
            
            let message = `üöö *QUOTE REQUEST - Mudanzas Edyta London Limited*\n\n`;
            message += `üìç *ROUTE*\n`;
            message += `From: ${quote.pickup || 'Not specified'}\n`;
            message += `To: ${quote.destination || 'Not specified'}\n`;
            message += `Distance: ${quote.miles} miles\n`;
            
            if (quote.extraStops > 0) {
                message += `Extra Stops: ${quote.extraStops}\n`;
            }
            
            message += `\nüöê *SERVICE DETAILS*\n`;
            message += `Van: ${vanNames[quote.vanSize]}\n`;
            message += `Loaders: ${quote.loaders}\n`;
            message += `Duration: ${quote.billableHours} hours\n`;
            message += `Time: ${quote.moveTime === 'evening' ? 'Evening (after 8pm)' : 'Daytime'}\n\n`;
            
            message += `üí∞ *PRICING BREAKDOWN*\n`;
            message += `‚Ä¢ Labour: ¬£${(quote.baseHourly * quote.billableHours).toFixed(2)}\n`;
            message += `‚Ä¢ Distance: ¬£${quote.distanceCharge.toFixed(2)}\n`;
            
            if (quote.extraStopsCharge > 0) message += `‚Ä¢ Extra Stops: ¬£${quote.extraStopsCharge}\n`;
            if (quote.packingCharge > 0) message += `‚Ä¢ Packing: ¬£${quote.packingCharge}\n`;
            if (quote.assemblyCharge > 0) message += `‚Ä¢ Assembly: ¬£${quote.assemblyCharge}\n`;
            if (quote.routeCharges > 0) message += `‚Ä¢ Route Charges: ¬£${quote.routeCharges}\n`;
            if (quote.eveningCharge > 0) message += `‚Ä¢ Evening Surcharge: ¬£${quote.eveningCharge.toFixed(2)}\n`;
            
            message += `\nüéØ *TOTAL: ¬£${quote.total.toFixed(2)}*\n\n`;
            message += `‚úÖ Please confirm this quote and let me know your preferred moving date!\n\n`;
            message += `"Lift on the way" üöÄ`;
            
            const url = `https://wa.me/447456507570?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }
        
        function submitBooking() {
            const quote = window.currentQuote;
            if (!quote) {
                alert('Please calculate a quote first!');
                return;
            }
            
            // Get form data
            const name = document.getElementById('customerName').value;
            const email = document.getElementById('customerEmail').value;
            const phone = document.getElementById('customerPhone').value;
            const moveDate = document.getElementById('moveDate').value;
            const preferredTime = document.getElementById('preferredTime').value;
            const propertyType = document.getElementById('propertyType').value;
            const additionalInfo = document.getElementById('additionalInfo').value;
            
            if (!name || !email || !phone || !moveDate) {
                alert('Please fill in all required fields.');
                return;
            }
            
            // Create comprehensive booking message
            const vanNames = {40: 'Small Van', 45: 'Medium Van', 50: 'Luton Van'};
            
            let message = `üöö *BOOKING CONFIRMATION - Mudanzas Edyta London Limited*\n\n`;
            message += `üë§ *CUSTOMER DETAILS*\n`;
            message += `Name: ${name}\n`;
            message += `Email: ${email}\n`;
            message += `Phone: ${phone}\n\n`;
            
            message += `üìÖ *MOVE DETAILS*\n`;
            message += `Date: ${moveDate}\n`;
            message += `Time: ${preferredTime}\n`;
            message += `Property: ${propertyType}\n\n`;
            
            message += `üìç *ROUTE*\n`;
            message += `From: ${quote.pickup || 'Not specified'}\n`;
            message += `To: ${quote.destination || 'Not specified'}\n`;
            message += `Distance: ${quote.miles} miles\n`;
            if (quote.extraStops > 0) message += `Extra Stops: ${quote.extraStops}\n`;
            
            message += `\nüöê *SERVICE*\n`;
            message += `Van: ${vanNames[quote.vanSize]}\n`;
            message += `Loaders: ${quote.loaders}\n`;
            message += `Duration: ${quote.billableHours} hours\n\n`;
            
            if (additionalInfo) {
                message += `üìù *ADDITIONAL INFO*\n${additionalInfo}\n\n`;
            }
            
            message += `üí∞ *TOTAL COST: ¬£${quote.total.toFixed(2)}*\n\n`;
            message += `‚úÖ *PLEASE CONFIRM THIS BOOKING*\n\n`;
            message += `"Lift on the way" üöÄ`;
            
            // Send via WhatsApp
            const url = `https://wa.me/447456507570?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
            
            // Show success message
            alert('Booking request sent! We will confirm your booking shortly.');
            hideBookingForm();
        }
        
        // Smart postcode distance estimation (fallback system)
        function estimateDistanceFromPostcodes() {
            const pickup = document.getElementById('pickupAddress').value.trim().toUpperCase();
            const destination = document.getElementById('destinationAddress').value.trim().toUpperCase();
            
            if (!pickup || !destination || pickup.length < 2 || destination.length < 2) {
                return;
            }
            
            const distance = calculatePostcodeDistance(pickup, destination);
            if (distance > 0) {
                document.getElementById('miles').value = distance;
                
                // Show route info without map
                const routeInfo = document.getElementById('routeInfo');
                const routeDetails = document.getElementById('routeDetails');
                
                routeDetails.innerHTML = `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span><strong>Estimated Distance:</strong> ${distance} miles</span>
                        <span><strong>Route:</strong> ${pickup} ‚Üí ${destination}</span>
                    </div>
                    <div style="font-size: 14px; color: #666;">
                        üí° For exact distances, enable Google Maps integration
                    </div>
                `;
                
                routeInfo.style.display = 'block';
                calculateQuote();
            }
        }
        
        function calculatePostcodeDistance(pickup, destination) {
            // London postcode areas with approximate coordinates
            const postcodeAreas = {
                'E1': [51.5151, -0.0712], 'E2': [51.5269, -0.0542], 'E3': [51.5301, -0.0420],
                'E4': [51.5905, -0.0135], 'E5': [51.5580, -0.0550], 'E6': [51.5330, 0.0470],
                'E7': [51.5460, 0.0150], 'E8': [51.5440, -0.0550], 'E9': [51.5540, -0.0430],
                'E10': [51.5690, -0.0140], 'E11': [51.5590, 0.0070], 'E12': [51.5510, 0.0470],
                'E13': [51.5220, 0.0470], 'E14': [51.5080, -0.0180], 'E15': [51.5380, -0.0050],
                'E16': [51.5220, 0.0470], 'E17': [51.5870, -0.0140], 'E18': [51.5950, 0.0270],
                
                'N1': [51.5450, -0.1030], 'N2': [51.5900, -0.1650], 'N3': [51.5950, -0.1650],
                'N4': [51.5700, -0.1100], 'N5': [51.5580, -0.1030], 'N6': [51.5750, -0.1450],
                'N7': [51.5520, -0.1180], 'N8': [51.5880, -0.1200], 'N9': [51.6150, -0.0800],
                'N10': [51.5950, -0.1450], 'N11': [51.6100, -0.1300], 'N12': [51.6200, -0.1650],
                'N13': [51.6150, -0.1100], 'N14': [51.6500, -0.1650], 'N15': [51.5900, -0.0800],
                'N16': [51.5650, -0.0800], 'N17': [51.5950, -0.0650], 'N18': [51.6050, -0.0500],
                'N19': [51.5750, -0.1300], 'N20': [51.6200, -0.1650], 'N21': [51.6500, -0.1300],
                'N22': [51.6050, -0.1100],
                
                'NW1': [51.5350, -0.1400], 'NW2': [51.5650, -0.2150], 'NW3': [51.5750, -0.1850],
                'NW4': [51.6100, -0.2150], 'NW5': [51.5550, -0.1650], 'NW6': [51.5450, -0.1950],
                'NW7': [51.6050, -0.2450], 'NW8': [51.5350, -0.1700], 'NW9': [51.6050, -0.2750],
                'NW10': [51.5350, -0.2450], 'NW11': [51.5750, -0.2150],
                
                'SW1': [51.4950, -0.1400], 'SW2': [51.4450, -0.1650], 'SW3': [51.4900, -0.1650],
                'SW4': [51.4600, -0.1350], 'SW5': [51.4750, -0.1950], 'SW6': [51.4750, -0.1950],
                'SW7': [51.4950, -0.1700], 'SW8': [51.4750, -0.1350], 'SW9': [51.4600, -0.1150],
                'SW10': [51.4850, -0.1950], 'SW11': [51.4650, -0.1650], 'SW12': [51.4300, -0.1650],
                'SW13': [51.4650, -0.2450], 'SW14': [51.4450, -0.2150], 'SW15': [51.4450, -0.2150],
                'SW16': [51.4150, -0.1350], 'SW17': [51.4150, -0.1650], 'SW18': [51.4450, -0.1950],
                'SW19': [51.4150, -0.2150], 'SW20': [51.3950, -0.1950],
                
                'SE1': [51.5050, -0.0950], 'SE2': [51.4900, 0.0750], 'SE3': [51.4650, 0.0150],
                'SE4': [51.4500, -0.0350], 'SE5': [51.4750, -0.0950], 'SE6': [51.4450, -0.0150],
                'SE7': [51.4900, 0.0750], 'SE8': [51.4900, -0.0350], 'SE9': [51.4300, 0.0450],
                'SE10': [51.4850, 0.0050], 'SE11': [51.4950, -0.1050], 'SE12': [51.4300, -0.0150],
                'SE13': [51.4450, -0.0150], 'SE14': [51.4650, -0.0650], 'SE15': [51.4750, -0.0650],
                'SE16': [51.4950, -0.0550], 'SE17': [51.4950, -0.0950], 'SE18': [51.4900, 0.0750],
                'SE19': [51.4150, -0.1050], 'SE20': [51.4150, -0.0650], 'SE21': [51.4450, -0.0850],
                'SE22': [51.4500, -0.0650], 'SE23': [51.4350, -0.0350], 'SE24': [51.4500, -0.1050],
                'SE25': [51.3950, -0.0650], 'SE26': [51.4150, -0.0350], 'SE27': [51.4150, -0.1050],
                'SE28': [51.4900, 0.0750],
                
                'W1': [51.5150, -0.1450], 'W2': [51.5150, -0.1850], 'W3': [51.5150, -0.2450],
                'W4': [51.4950, -0.2650], 'W5': [51.5150, -0.3050], 'W6': [51.4950, -0.2350],
                'W7': [51.5150, -0.3350], 'W8': [51.5050, -0.1950], 'W9': [51.5350, -0.1850],
                'W10': [51.5250, -0.2150], 'W11': [51.5150, -0.2150], 'W12': [51.5150, -0.2350],
                'W13': [51.5150, -0.3050], 'W14': [51.4950, -0.2150],
                
                'WC1': [51.5200, -0.1200], 'WC2': [51.5150, -0.1250],
                'EC1': [51.5200, -0.1050], 'EC2': [51.5150, -0.0950], 'EC3': [51.5150, -0.0850], 'EC4': [51.5150, -0.1050],
                
                // Outer London
                'BR1': [51.4050, 0.0150], 'BR2': [51.3950, 0.0450], 'BR3': [51.3750, -0.1050],
                'CR0': [51.3750, -0.1050], 'CR2': [51.3350, -0.0650], 'CR3': [51.3150, -0.0350],
                'CR4': [51.3950, -0.1650], 'CR5': [51.3150, -0.1950], 'CR7': [51.3550, -0.1050],
                'CR8': [51.3150, -0.0650], 'CR9': [51.3750, -0.1350],
                
                'DA1': [51.4450, 0.2150], 'DA5': [51.4300, 0.1450], 'DA6': [51.4150, 0.1750],
                'DA7': [51.4300, 0.1150], 'DA8': [51.4600, 0.1450], 'DA14': [51.4300, 0.1750],
                'DA15': [51.4450, 0.1450], 'DA16': [51.4600, 0.1150], 'DA17': [51.4900, 0.1450],
                'DA18': [51.4900, 0.1750],
                
                'EN1': [51.6500, -0.0500], 'EN2': [51.6650, -0.1100], 'EN3': [51.6350, -0.0350],
                'EN4': [51.6650, -0.1650], 'EN5': [51.6350, -0.2150],
                
                'HA0': [51.5750, -0.3350], 'HA1': [51.5750, -0.3350], 'HA2': [51.5750, -0.3350],
                'HA3': [51.5950, -0.3650], 'HA4': [51.5550, -0.3950], 'HA5': [51.6150, -0.4250],
                'HA6': [51.5950, -0.4550], 'HA7': [51.6150, -0.4250], 'HA8': [51.6350, -0.2750],
                'HA9': [51.5950, -0.3950],
                
                'IG1': [51.5650, 0.0750], 'IG2': [51.5950, 0.0750], 'IG3': [51.5950, 0.1150],
                'IG4': [51.6250, 0.0750], 'IG5': [51.6250, 0.1450], 'IG6': [51.5950, 0.1450],
                'IG7': [51.6250, 0.1150], 'IG8': [51.6250, 0.0450], 'IG9': [51.6550, 0.1150],
                'IG10': [51.6250, 0.0150], 'IG11': [51.5650, 0.1150],
                
                'KT1': [51.4150, -0.3050], 'KT2': [51.4150, -0.2750], 'KT3': [51.3950, -0.2750],
                'KT4': [51.3750, -0.2050], 'KT5': [51.3950, -0.2450], 'KT6': [51.3950, -0.2750],
                'KT8': [51.3750, -0.3350], 'KT9': [51.3750, -0.2750],
                
                'RM1': [51.5750, 0.2450], 'RM2': [51.5550, 0.2150], 'RM3': [51.5750, 0.2150],
                'RM4': [51.5950, 0.2450], 'RM5': [51.5950, 0.2750], 'RM6': [51.5550, 0.1850],
                'RM7': [51.5750, 0.2750], 'RM8': [51.5350, 0.1850], 'RM9': [51.5350, 0.1550],
                'RM10': [51.5550, 0.1850], 'RM11': [51.5950, 0.1850], 'RM12': [51.5750, 0.2150],
                'RM13': [51.5350, 0.2150], 'RM14': [51.5550, 0.2450], 'RM15': [51.5150, 0.2450],
                'RM16': [51.5150, 0.2150], 'RM17': [51.4950, 0.2450], 'RM18': [51.4950, 0.2150],
                'RM19': [51.4750, 0.2150], 'RM20': [51.4550, 0.2150],
                
                'TW1': [51.4450, -0.3350], 'TW2': [51.4450, -0.3650], 'TW3': [51.4650, -0.3650],
                'TW4': [51.4650, -0.3950], 'TW5': [51.4850, -0.3650], 'TW7': [51.4850, -0.3350],
                'TW8': [51.4950, -0.3350], 'TW9': [51.4650, -0.2950], 'TW10': [51.4650, -0.3350],
                'TW11': [51.4450, -0.3050], 'TW12': [51.4250, -0.3350], 'TW13': [51.4350, -0.4050],
                'TW14': [51.4350, -0.4350], 'TW15': [51.4150, -0.4050], 'TW16': [51.4050, -0.4350],
                'TW17': [51.3950, -0.3950], 'TW18': [51.4550, -0.4350], 'TW19': [51.4350, -0.4650],
                'TW20': [51.4050, -0.5250],
                
                'UB1': [51.5150, -0.4650], 'UB2': [51.5150, -0.4350], 'UB3': [51.5350, -0.4650],
                'UB4': [51.5550, -0.4650], 'UB5': [51.5350, -0.4950], 'UB6': [51.5150, -0.4950],
                'UB7': [51.5350, -0.5250], 'UB8': [51.5550, -0.5250], 'UB9': [51.5750, -0.4950],
                'UB10': [51.5550, -0.4350], 'UB11': [51.5750, -0.4650]
            };
            
            // Extract postcode areas (first part before space or first 2-3 chars)
            const pickupArea = extractPostcodeArea(pickup);
            const destArea = extractPostcodeArea(destination);
            
            if (!pickupArea || !destArea) {
                return 0;
            }
            
            const pickupCoords = postcodeAreas[pickupArea];
            const destCoords = postcodeAreas[destArea];
            
            if (!pickupCoords || !destCoords) {
                // Fallback for unknown postcodes
                return Math.round(Math.random() * 15 + 5); // 5-20 miles
            }
            
            // Calculate distance using Haversine formula
            const distance = calculateHaversineDistance(
                pickupCoords[0], pickupCoords[1],
                destCoords[0], destCoords[1]
            );
            
            // Add 20% for road routing (straight line vs actual roads)
            return Math.round(distance * 1.2 * 10) / 10; // Round to 1 decimal
        }
        
        function extractPostcodeArea(postcode) {
            // Remove spaces and get the area part
            const clean = postcode.replace(/\s+/g, '').toUpperCase();
            
            // Match patterns like E1, SW1, NW10, etc.
            const match = clean.match(/^([A-Z]{1,2})(\d{1,2})/);
            return match ? match[1] + match[2] : null;
        }
        
        function calculateHaversineDistance(lat1, lon1, lat2, lon2) {
            const R = 3959; // Earth's radius in miles
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                      Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }
        
        // Initialize the system when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Try to initialize maps, fallback if not available
            setTimeout(function() {
                if (typeof google === 'undefined') {
                    initMap(); // This will use fallback system
                }
            }, 1000);
        });
        
        // Fallback if Google Maps fails to load
        window.setTimeout(function() {
            if (typeof google === 'undefined') {
                console.log('Using fallback distance system');
                initMap(); // This will use fallback system
            }
        }, 3000);
    </script>
</body>
</html>
